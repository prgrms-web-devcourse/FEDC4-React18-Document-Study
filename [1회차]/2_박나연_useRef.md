## useRef(initialValue)

ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒìœ„ ë ˆë²¨ì—ì„œ `useRef`ë¥¼ í˜¸ì¶œí•˜ì—¬ refë¥¼ ì„ ì–¸í•œë‹¤.

```jsx
import { useRef } from 'react';

function MyComponent() {
  const intervalRef = useRef(0);
  const inputRef = useRef(null);
  // ...
```

### useRef ë§¤ê°œë³€ìˆ˜

`initialValue`: ref ê°ì²´ì˜Â `current`Â í”„ë¡œí¼í‹° ì´ˆê¸° ì„¤ì • ê°’ì´ë©°, ì–´ë–¤ ìœ í˜•ì˜ ê°’ì´ë“  ì§€ì •í•  ìˆ˜ ìˆë‹¤. **ì´ ì¸ìëŠ” ì´ˆê¸° ë Œë”ë§ ì´í›„ë¶€í„°ëŠ” ë¬´ì‹œëœë‹¤.**

### useRef ë°˜í™˜ê°’

`useRef`ëŠ” **ë‹¨ì¼ í”„ë¡œí¼í‹°**ë¥¼ ê°€ì§„ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤

`current`: ì²˜ìŒì—ëŠ” ì „ë‹¬í•œÂ `initialValue`ë¡œ ì„¤ì •ë˜ë©° ë‚˜ì¤‘ì— ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ref ê°ì²´ë¥¼ JSX ë…¸ë“œì˜Â `ref`Â ì†ì„±ìœ¼ë¡œ Reactì— ì „ë‹¬í•˜ë©´ ReactëŠ”Â `current`Â í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•œë‹¤.

```jsx
import { useRef } from 'react';

function MyComponent() {
  const inputRef = useRef(null);
  // ...
	return <input ref={inputRef} />;
}
```

## useRef ì‚¬ìš©ì‹œ ì£¼ì˜ì‚¬í•­

1) `ref.current`Â í”„ë¡œí¼í‹°ëŠ” stateì™€ ë‹¬ë¦¬ **ë³€ì´í•  ìˆ˜ ìˆë‹¤.** ê·¸ëŸ¬ë‚˜ ë Œë”ë§ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´(ì˜ˆ: stateì˜ ì¼ë¶€)ë¥¼ í¬í•¨í•˜ëŠ” ê²½ìš° í•´ë‹¹ ê°ì²´ë¥¼ ë³€ì´í•´ì„œëŠ” ì•ˆëœë‹¤.

2) `ref.current`Â í”„ë¡œí¼í‹°ë¥¼ ë³€ê²½í•´ë„ ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤. refëŠ” **ì¼ë°˜ JavaScript ê°ì²´ì´ê¸° ë•Œë¬¸ì—** ReactëŠ” ì‚¬ìš©ìê°€ ì–¸ì œ ë³€ê²½í–ˆëŠ”ì§€ ì•Œì§€ ëª»í•œë‹¤

3) ì´ˆê¸°í™”ë¥¼ ì œì™¸í•˜ê³ ëŠ” **ë Œë”ë§ ì¤‘**ì—Â `ref.current`ë¥¼ **ì“°ê±°ë‚˜Â ì½ì§€Â ë§ˆë¼.** ì´ë ‡ê²Œ í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ ì˜ˆì¸¡í•  ìˆ˜ ì—†ê²Œ ë‹¤.

## ì‚¬ìš©ë²•

### refë¡œ ê°’ ì°¸ì¡°í•˜ê¸°

ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒìœ„ ë ˆë²¨ì—ì„œ `useRef`ë¥¼ í˜¸ì¶œí•˜ì—¬ í•˜ë‚˜ ì´ìƒì˜ ref ì„ ì–¸í•œë‹¤.

```jsx
import { useRef } from 'react';

function Stopwatch() {
  const intervalRef = useRef(0);
  // ...
  // intervalRef => { current : null}
```

`useRef`ëŠ” ì²˜ìŒì— ì œê³µí•œ ì´ˆê¸°ê°’ìœ¼ë¡œ ì„¤ì •ëœ ë‹¨ì¼ `current` í”„ë¡œí¼í‹°ê°€ ìˆëŠ” ref ê°ì²´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ë‹¤ìŒ ë Œë”ë§ì—ì„œ `useRef`ëŠ” ë™ì¼í•œ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ë‚˜ì¤‘ì— ì½ì„ ìˆ˜ ìˆë„ë¡ `current` ì†ì„±ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. stateê°€ ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, ë‘˜ ì‚¬ì´ì—ëŠ” ì¤‘ìš”í•œ ì°¨ì´ì ì´ ìˆë‹¤!

**ì°¨ì´ì **

**refë¥¼ ë³€ê²½í•´ë„ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤(ë¦¬ë Œë”ë§ì„ ì´‰ë°œí•˜ì§€ ì•ŠëŠ”ë‹¤)** ì¦‰, refëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì‹œê°ì  ì¶œë ¥ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ” ì •ë³´(í™”ë©´ì— ë³´ì´ì§€ ì•ŠëŠ” ì •ë³´)ë¥¼ ì €ì¥í•˜ëŠ” ë° ì í•©í•˜ë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´, **interval ID**ë¥¼ ì €ì¥í–ˆë‹¤ê°€ ë‚˜ì¤‘ì— ë¶ˆëŸ¬ì™€ì•¼ í•˜ëŠ” ê²½ìš° refì— ë„£ì„ ìˆ˜ ìˆë‹¤. (í™”ë©´ì— ë³´ì—¬ì¤˜ì•¼í•˜ëŠ” ê°’ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— useStateê°€ ì•„ë‹Œ refë¥¼ ì‚¬ìš©í•¨) 

**ref ë‚´ë¶€ì˜ ê°’ì„ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´** `current` í”„ë¡œí¼í‹°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤

```jsx
function handleStartClick() {
  const intervalId = setInterval(() => {
    // ...
  }, 1000);
  intervalRef.current = intervalId;
}
```

ë‚˜ì¤‘ì— **refì—ì„œ í•´ë‹¹ interval IDë¥¼ ì½ì–´** í•´ë‹¹ intervalì„ ì·¨ì†Œí•  ìˆ˜ ìˆë‹¤

```jsx
function handleStopClick() {
  const intervalId = intervalRef.current;
  clearInterval(intervalId);
}
```

**refë¥¼ ì‚¬ìš©í•˜ë©´ ë³´ì¥ë˜ëŠ” ê²ƒ**

- (ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì¬ì„¤ì •ë˜ëŠ” ì¼ë°˜ ë³€ìˆ˜ì™€ ë‹¬ë¦¬) **ë¦¬ë Œë”ë§ ì‚¬ì´ì— ì •ë³´ë¥¼ ì €ì¥**í•  ìˆ˜ ìˆë‹¤.
- (state ë³€ìˆ˜ì™€ ë‹¬ë¦¬) ë³€ê²½í•´ë„ **ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.**
- (ì •ë³´ê°€ ê³µìœ ë˜ëŠ” ì™¸ë¶€ ë³€ìˆ˜ì™€ ë‹¬ë¦¬) ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì— **ë¡œì»¬ë¡œ ì €ì¥ëœë‹¤.**

â€» refë¥¼ ë³€ê²½í•´ë„ ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ í™”ë©´ì— í‘œì‹œë˜ëŠ” ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë°ëŠ” refê°€ ì í•©í•˜ì§€ ì•Šë‹¤. ëŒ€ì‹  stateë¥¼ ì‚¬ìš©í•˜ì„¸ìš” 

[**Examples of useRef**](https://react-ko.dev/reference/react/useRef#examples-value)

### ğŸ˜ˆ ì‹¤ìˆ˜í•˜ê¸° ì¢‹ì€ refì˜ í•¨ì •

**ë Œë”ë§ ì¤‘ì—ëŠ” `ref.current`ë¥¼ ì“°ê±°ë‚˜ *ì½ì§€* ë§ˆë¼**

ReactëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ë³¸ë¬¸ì´ ìˆœìˆ˜ í•¨ìˆ˜ì²˜ëŸ¼ ë™ì‘í•˜ê¸°ë¥¼ ê¸°ëŒ€í•œë‹¤.

- ì…ë ¥ê°’ë“¤(props, state, context)ì´ ë™ì¼í•˜ë©´ ì™„ì „íˆ ë™ì¼í•œ JSXë¥¼ ë°˜í™˜í•´ì•¼í•œë‹¤. (ìˆœìˆ˜í•¨ìˆ˜ì˜ íŠ¹ì§• 1)
- ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ í˜¸ì¶œ ìˆœì„œê°€ ë‹¬ë¼ì§€ê±°ë‚˜, ë‹¤ë¥¸ ì¸ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œí•˜ê²Œ ë˜ë”ë¼ë„, ë‹¤ë¥¸ í˜¸ì¶œì˜ ê²°ê³¼ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.
    
    (ìˆœìˆ˜í•¨ìˆ˜ì˜ íŠ¹ì§• 2)
    

**ë Œë”ë§ ì¤‘ì—** refë¥¼ ì½ê±°ë‚˜ ì“°ë©´ ì´ëŸ¬í•œ ê¸°ëŒ€ê°€ ê¹¨ì§„ë‹¤.

```jsx
function MyComponent() {
  // ...
  // ğŸš© Don't write a ref during rendering
  // ğŸš© ë Œë”ë§ ì¤‘ì— refë¥¼ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”.
  myRef.current = 123;
  // ...
  // ğŸš© Don't read a ref during rendering
  // ğŸš© ë Œë”ë§ ì¤‘ì— refë¥¼ ì½ì§€ ë§ˆì„¸ìš”.
  return <h1>{myOtherRef.current}</h1>;
}
```

**ëŒ€ì‹  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë‚˜ Effectì—ì„œ** refë¥¼ ì½ê±°ë‚˜ ì“¸ ìˆ˜ ìˆë‹¤.

**ë Œë”ë§ ì¤‘ì— ë¬´ì–¸ê°€ë¥¼ ì½ê±°ë‚˜ ì¨ì•¼ë§Œ í•˜ëŠ” ê²½ìš°,** ëŒ€ì‹  stateë¥¼ ì‚¬ìš©í•´ë¼

### refë¡œ DOM ì¡°ì‘í•˜ê¸°

refë¥¼ ì‚¬ìš©í•˜ì—¬ DOMì„ ì¡°ì‘í•˜ëŠ” ê²ƒì€ íŠ¹íˆ ì¼ë°˜ì ì´ë‹¤. Reactì—ëŠ” ì´ë¥¼ ìœ„í•œ ê¸°ë³¸ ì§€ì›ì´ ìˆë‹¤.

```jsx
import { useRef } from 'react';

function MyComponent() {
  const inputRef = useRef(null);

	function handleClick() {
    inputRef.current.focus();
  } // 3. ì´ì œ DOM ë…¸ë“œëŠ” <input>ì— ì ‘ê·¼í•´ focus()ì™€ ê°™ì€ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. 

  // ...
  return <input ref={inputRef} />;
	// 1. ref ì†ì„±ìœ¼ë¡œ ì¡°ì‘í•˜ë ¤ëŠ” DOM ë…¸ë“œì˜ JSXì—ê²Œ ref ê°ì²´ë¥¼ ì „ë‹¬í•¨
  // 2. DOM ë…¸ë“œë¥¼ ìƒì„±í•˜ê³  í™”ë©´ì— ê·¸ë¦° í›„, ReactëŠ” refê°ì²´ì˜ current í”„ë¡œí¼í‹°ë¥¼ DOM ë…¸ë“œë¡œ ì„¤ì •í•œë‹¤.

	// 4. ë…¸ë“œê°€ í™”ë©´ì—ì„œ ì œê±°ë˜ë©´ ReactëŠ” current í”„ë¡œí¼í‹°ë¥¼ ë‹¤ì‹œ nullë¡œ ì„¤ì •í•œë‹¤!
```

[refë¡œ DOM ì¡°ì‘í•˜ê¸° â€“ React](https://react-ko.dev/learn/manipulating-the-dom-with-refs)

[**examples**](https://react-ko.dev/reference/react/useRef#examples-dom)

### ref ì½˜í…ì¸  ì¬ìƒì„± í”¼í•˜ê¸°

ReactëŠ” **ì´ˆê¸°ì— ref ê°’ì„ í•œ ë²ˆ ì €ì¥**í•˜ê³ , **ë‹¤ìŒ ë Œë”ë§ë¶€í„°ëŠ” ì´ë¥¼ ë¬´ì‹œí•œë‹¤.** `new VideoPlayer()`ì˜ ê²°ê³¼ëŠ” ì´ˆê¸° ë Œë”ë§ì—ë§Œ ì‚¬ìš©ë˜ì§€ë§Œ, í˜¸ì¶œ ìì²´ëŠ” ì´í›„ì˜ ëª¨ë“  ë Œë”ë§ì—ì„œë„ ì—¬ì „íˆ ê³„ì† ì´ë¤„ì§€ë©° ì´ëŠ” ê°’ë¹„ì‹¼ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš° ë‚­ë¹„ì¼ ìˆ˜ ìˆë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ëŒ€ì‹  ë‹¤ìŒê³¼ ê°™ì´ refë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤

```jsx
function Video() {
  const playerRef = useRef(null);

  if (playerRef.current === null) {
    playerRef.current = new VideoPlayer();
  }
```

ì¼ë°˜ì ìœ¼ë¡œ **ë Œë”ë§ ì¤‘ì— `ref.current`ë¥¼ ì“°ê±°ë‚˜ ì½ëŠ” ê²ƒì€ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.** í•˜ì§€ë§Œ ì´ ê²½ìš°ì—ëŠ” ê²°ê³¼ê°€ í•­ìƒ ë™ì¼í•˜ê³  ì´ˆê¸°í™” ì¤‘ì—ë§Œ ì¡°ê±´ì´ ì‹¤í–‰ë˜ë¯€ë¡œ ì¶©ë¶„íˆ ì˜ˆì¸¡í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê´œì°®ë‹¤.(ì´ˆê¸°í™” ì¤‘ì—ë§Œ ì¡°ê±´ì´ ì‹¤í–‰ëœë‹¤ëŠ” ì˜ë¯¸ === ì´ˆê¸°í™”ëœ playerRef.currentëŠ” nullì´ê¸° ë•Œë¬¸ì— í•´ë‹¹ ì¡°ê±´ì— í•´ë‹¹ í•˜ëŠ” ì½”ë“œëŠ” ì´ˆê¸°í™”ì¼ ë•Œë§Œ ì‹¤í–‰ë¨)

### useRefë¥¼ ì´ˆê¸°í™”í•  ë•Œ null ê²€ì‚¬ë¥¼ í”¼í•˜ëŠ” ë°©ë²•

â†’ ì´ˆê¸°í™”í•  ë•Œ null ê²€ì‚¬ë¥¼ ì•ˆí•˜ëŠ” ëŒ€ì‹  refë¥¼ ì½ê±°ë‚˜ ì“¸ ë•Œë§ˆë‹¤ â€œì ˆëŒ€ nullì´ ì•„ë‹Œ refâ€ë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ

```jsx
function Video() {
  const playerRef = useRef(null);

  function getPlayer() {
    if (playerRef.current !== null) {
      return playerRef.current;
    }
    const player = new VideoPlayer();
    playerRef.current = player;
    return player;
  }
```

## ë¬¸ì œ í•´ê²° Troubleshooting

### 1. ****ì»¤ìŠ¤í…€ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ refë¥¼ ì–»ì„ ìˆ˜ ì—†ì–´ìš”****

```jsx
const inputRef = useRef(null);

return <MyInput ref={inputRef} />; // Error
```

<aside>
âš ï¸ Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()? ê²½ê³ : í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ëŠ” refë¥¼ ì§€ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ refì— ì ‘ê·¼í•˜ë ¤ëŠ” ì‹œë„ëŠ” ì‹¤íŒ¨í•©ë‹ˆë‹¤. React.forwardRef()ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•˜ì…¨ë‚˜ìš”?

</aside>

ê¸°ë³¸ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ëŠ” **ë‚´ë¶€ì˜ DOM ë…¸ë“œì— ëŒ€í•œ refë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.**

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ refë¥¼ ê°€ì ¸ì˜¤ê³ ì í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì°¾ê³  ê°™ì´ `forwardRef`ë¡œ ê°ì‹¸ë¼

```jsx
import { forwardRef } from 'react';

const MyInput = forwardRef(({ value, onChange }, ref) => {
  return (
    <input
      value={value}
      onChange={onChange}
      ref={ref}
    />
  );
});

export default MyInput;
```

ê·¸ëŸ¬ë©´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ refë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤!